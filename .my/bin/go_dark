#!/bin/sh

set +e

echo "--theme=OneHalfDark" > ~/.config/bat/config

case $(uname) in
    Linux)
        echo "Net/ThemeName \"Arc-Dark\"" > ~/.xsettingsd.theme
        echo "Net/IconThemeName \"Flat-Remix-Blue-Dark\"" >> ~/.xsettingsd.theme
        xrdb -merge ~/.Xresources.dark
        command cat $HOME/.config/termite/config.base $HOME/.config/termite/config.dark > $HOME/.config/termite/config
        killall -USR1 termite
        reload_xsettings

        gsettings set org.gnome.desktop.interface gtk-theme "Arc-Dark"
        gsettings set org.gnome.desktop.interface icon-theme "Flat-Remix-Blue-Dark"
        ;;
    Darwin)
        echo "dark" > ~/.xsettingsd.theme # my nvim setup uses this
        ;;
    *)
        echo "Really? $(uname)?"
        ;;
esac

# old, deprecated xorg + awesomewm stuff
# sleep 1
# which awesome-client &>/dev/null
# if test $? -eq 0; then
    # awesome-client 'awesome.restart()' &>/dev/null
# fi
# sleep 1
# feh --no-fehbg --bg-fill ~/.config/awesome/themes/ephemeral/arch\ dark.png
